<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>xmlMerge module &#8212; MPT 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="MPT 0.0.1 documentation" href="index.html" />
    <link rel="prev" title="xmlProcess module" href="xmlProcess.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="xmlProcess.html" title="xmlProcess module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MPT 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-xmlMerge">
<span id="xmlmerge-module"></span><h1>xmlMerge module<a class="headerlink" href="#module-xmlMerge" title="Permalink to this headline">¶</a></h1>
<p>This  program is a utility file to merge a JATS/BITS XML  section into a BIS-XML files</p>
<p>The current functions are limited to JATS and BITS XML Scheme of the Library of Congress. However the methods defined in
this program can be used to modify any element tree.</p>
<dl class="docutils">
<dt>Usage:</dt>
<dd>xmlMerge.py  &lt;input_file&gt;  &lt;path&gt;  &lt;scheme&gt; &lt;output_file&gt;  [options]
xmlMerge.py -h &#8211;help</dd>
<dt>Options:</dt>
<dd><table class="first docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-d</span>, <span class="option">--debug</span></kbd></td>
<td>Enable debug output</td></tr>
</tbody>
</table>
<p class="last">-m &#8211;metadata=&lt;file__name_schema.xml&gt;</p>
</dd>
</dl>
<ul class="simple">
<li>Web : <a class="reference external" href="https://github.com/withanage/mpt">https://github.com/withanage/mpt</a></li>
<li>Repository and issue-tracker: <a class="reference external" href="https://github.com/withanage/mpt/issues">https://github.com/withanage/mpt/issues</a></li>
<li>Licensed under terms of GPL 3  license (LICENSE.md)</li>
</ul>
<dl class="class">
<dt id="xmlMerge.XMLMerge">
<em class="property">class </em><code class="descclassname">xmlMerge.</code><code class="descname">XMLMerge</code><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="debug.html#debug.Debuggable" title="debug.Debuggable"><code class="xref py py-class docutils literal"><span class="pre">debug.Debuggable</span></code></a></p>
<p>Standalone Processing object which merges current  JATS/BITS XML file in to the Body of a BITS-XML document.</p>
<dl class="method">
<dt id="xmlMerge.XMLMerge.create_book_bits">
<code class="descname">create_book_bits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.create_book_bits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.create_book_bits" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a  full BITS XML book and optionally adds metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>book</strong> (<em>elementtree</em>) &#8211; Elementtree which complies to BITS XML Schheme.</li>
<li><em>See  Also</em></li>
<li><em>&#8212;&#8212;&#8212;</em></li>
<li><em>create_metadata_path, create_book_part_bits</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xmlMerge.XMLMerge.create_book_part_bits">
<code class="descname">create_book_part_bits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.create_book_part_bits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.create_book_part_bits" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a JATS XNl File and creates a book-part element tree according to BITS-XML.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>bp</strong> &#8211; Book part elementTree</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">elementtree</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xmlMerge.XMLMerge.create_metadata_path">
<code class="descname">create_metadata_path</code><span class="sig-paren">(</span><em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.create_metadata_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.create_metadata_path" title="Permalink to this definition">¶</a></dt>
<dd><p>creates the correct folder path for the metadata file. Metadata files should be in a folder : metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> (<em>str</em>) &#8211; Suffix of the metadata  files</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>pth</strong> &#8211; Correct path of the metadata file in the folder structure</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>We assume that  metadata files are stored in a sub-folder named metadata</p>
</dd></dl>

<dl class="method">
<dt id="xmlMerge.XMLMerge.create_output_bits">
<code class="descname">create_output_bits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.create_output_bits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.create_output_bits" title="Permalink to this definition">¶</a></dt>
<dd><p>Create bits output file, generates a new file, if no file is found.
Otherwise the current file is appended to the book body as a book-part.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#xmlMerge.XMLMerge.create_book_part_bits" title="xmlMerge.XMLMerge.create_book_part_bits"><code class="xref py py-meth docutils literal"><span class="pre">create_book_part_bits()</span></code></a>, <a class="reference internal" href="#xmlMerge.XMLMerge.do_file_io" title="xmlMerge.XMLMerge.do_file_io"><code class="xref py py-meth docutils literal"><span class="pre">do_file_io()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="xmlMerge.XMLMerge.do_file_io">
<code class="descname">do_file_io</code><span class="sig-paren">(</span><em>s</em>, <em>mode</em>, <em>pth</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.do_file_io"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.do_file_io" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes read or write operations on a path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>s</strong> (<em>str</em>) &#8211; Content to be written or None for read</li>
<li><strong>mode</strong> (<em>str</em>) &#8211; w for write , r for r</li>
<li><strong>pth</strong> (<em>str</em>) &#8211; Path to the file to be read or written</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">IOError</span></code> &#8211; I/O operation fails</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xmlMerge.XMLMerge.get_xml_parts">
<code class="descname">get_xml_parts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.get_xml_parts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.get_xml_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns  the front-matter , body and back-matter of a JATS XML file in the above order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>f</strong> (<em>elementtree</em>) &#8211; Front-matter of JATS elementTree</li>
<li><strong>bd</strong> (<em>elementtree</em>) &#8211; Body of JATS elementTree</li>
<li><strong>bk</strong> (<em>elementtree</em>) &#8211; Back-matter of JATS elementTree</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xmlMerge.XMLMerge.process_xml_file">
<code class="descname">process_xml_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.process_xml_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.process_xml_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Process  JATS-XML file and merges it into the full BITS-XML file</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#xmlMerge.XMLMerge.create_output_bits" title="xmlMerge.XMLMerge.create_output_bits"><code class="xref py py-meth docutils literal"><span class="pre">create_output_bits()</span></code></a></p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">function create_output_jats not yet used</p>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="xmlMerge.XMLMerge.read_command_line">
<em class="property">static </em><code class="descname">read_command_line</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.read_command_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.read_command_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads and  generates a docopt dictionary from the command line parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>docopt</strong> &#8211; A dictionary, where keys are names of command-line elements  such as  and values are theparsed values of those
elements.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xmlMerge.XMLMerge.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#XMLMerge.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.XMLMerge.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the configuration on the processing object</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="xmlMerge.main">
<code class="descclassname">xmlMerge.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/xmlMerge.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xmlMerge.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a processing object from  a xml file and   and runs it.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></p>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="xmlProcess.html"
                        title="previous chapter">xmlProcess module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/xmlMerge.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="xmlProcess.html" title="xmlProcess module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MPT 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Dulip Withanage, University of Heidelberg.
    </div>
  </body>
</html>